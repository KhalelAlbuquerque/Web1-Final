{{!-- DESENVOLVER CONTEUDO --}}
<section class="site-presentation-macro">
    <div class="site-presentation">
        <p>
            Faça a diferença! Descubra oportunidades de trabalho
            voluntário em ONGs comprometidas com causas sociais,
            ambientais e educacionais. Junte-se a nós e
            contribua para um mundo melhor. Encontre a 
            vaga ideal para você e deixe o seu legado. 
            Seja voluntário e impacte vidas!
        </p>

        <img src="img/ong_semFundo 1.png" alt="" class="ongSemFundo">
    </div>

    <a href="#" class="make-difference">Quero fazer a diferença</a>
</section>

<section class="find-job">
    <h2>
        Encontre a vaga certa para você
    </h2>

    <div class="jobs-home">
        <a href="#">Ver mais</a>

        <div id="wrapper">
            <div id="carousel">
                <div id="content">
                    {{#each posts}}

                            {{#with this}}

                                <div class="card">
                                    <img src="img/projeto_logo.jpg" alt="">

                                    <h2>
                                        {{description}}
                                    </h2>

                                    <a class="see-job" href="/jobs/{{id}}"><span>Ver vaga</span></a>
                                </div>
                        
                            {{/with}}

                        {{/each}}

                        <div class="card">
                            <a class="see-more" href="/jobs/all">Ver todos</a>
                        </div>
                </div>
            </div>

            <button id="prev">
                <img src="img/prev.svg" alt="">
            </button>
            <button id="next">
                <img src="img/next.svg" alt="">
            </button>
        </div>
</section>

<script>

    const gap = 16;

    const carousel = document.getElementById("carousel"),
    content = document.getElementById("content"),
    next = document.getElementById("next"),
    prev = document.getElementById("prev");

    next.addEventListener("click", e => {
        carousel.scrollBy(width + gap, 0)
        if (carousel.scrollWidth !== 0) {
            prev.style.display = "flex"
        }
        if (content.scrollWidth - width - gap <= carousel.scrollLeft + width) {
            next.style.display = "none"
        }
    })

    prev.addEventListener("click", e => {
        carousel.scrollBy(-(width + gap), 0);
        if (carousel.scrollLeft - width - gap <= 0) {
            prev.style.display = "none"
        }
        if (!content.scrollWidth - width - gap <= carousel.scrollLeft + width) {
            next.style.display = "flex"
        }
    })

    let width = carousel.offsetWidth;
    window.addEventListener("resize", e => (width = carousel.offsetWidth));


</script>